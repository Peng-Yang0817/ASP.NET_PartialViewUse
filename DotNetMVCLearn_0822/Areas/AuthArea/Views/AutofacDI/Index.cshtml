<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script src="~/Scripts/angular.js"></script>
<script src="~/Scripts/Views/Auth/AutofacDI/Index.js"></script>

@using DotNetMVCLearn_0822.Areas.AuthArea.Controllers
@{
    ViewBag.Title = "Index";
    List<AquariumDetail> aquariumDatas = ViewBag.aquariumDatas;
}

<h2>使用Autofac 做到DI 註冊的測試畫面.</h2>

<table id="example" class="display" style="width:100%">
    <thead>
        <tr>
            <th>會員編號</th>
            <th>用戶名稱</th>
            <th>電子郵件</th>
            <th>魚缸編號</th>
            <th>綁定狀態</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in aquariumDatas)
        {
            <tr>
                <td>@item.auth001Id</td>
                <td>@item.userName</td>
                <td>@item.email</td>
                <td>@item.aquariumUnitNum</td>
                <td>@item.bindTag</td>
            </tr>
        }
    </tbody>


</table>


<h2>使用AngularJS 打API 渲染資料</h2>
<div ng-controller="HomeController">
    <div>{{Message}}</div>
    <!-- 在這裡渲染表格和錯誤訊息 -->
    <table border="1">
        <thead>
            <tr>
                <th>Id</th>
                <th>UserName</th>
                <th>Password</th>
                <th>Email</th>
                <th>LineID</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in data">
                <td>{{item.Id}}</td>
                <td>
                    <input type="text" ng-model="item.UserName"/></td>
                <td><input type="text" ng-model="item.Password" /></td>
                <td><input type="text" ng-model="item.Email" /></td>
                <td><input type="text" ng-model="item.LineID" /></td>
            </tr>
        </tbody>
    </table>

    <div style="white-space: pre-wrap; background: #1f1f1f; color: #9cdcfe;">
        <h2>Data : peopleInfo</h2>
        {{peopleInfo | json}}
    </div>

    <div ng-show="errorMessage">{{ errorMessage }}</div>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {



            $('#example').DataTable({
                language: {
                    "emptyTable": "無資料...",
                    "processing": "處理中...",
                    "loadingRecords": "載入中...",
                    "lengthMenu": "每頁 _MENU_ 筆資料",
                    "zeroRecords": "無搜尋結果",
                    "info": "",
                    "infoEmpty": "尚無資料",
                    "infoFiltered": "(從 _MAX_ 筆資料過濾)",
                    "infoPostFix": "",
                    "search": "搜尋字串:",
                    "paginate": {
                        "first": "首頁",
                        "last": "末頁",
                        "next": "下頁",
                        "previous": "前頁"
                    },
                    "aria": {
                        "sortAscending": ": 升冪",
                        "sortDescending": ": 降冪"
                    }
                },
                //[顯示比數],[項目選擇]
                //lengthMenu: [[50,10], [50,10]],

                //[顯示比數],[項目選擇]
                lengthMenu: [[5, 10], [5, 10]],

                //asc升序、desc降序
                order: [[0, "asc"]],

                //項目排序功能
                ordering: true,

                //分頁功能
                paging: true,

                //搜尋欄位是否顯示
                searching: true,

            });

        });
    </script>
} 